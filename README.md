# 学堂在线全能助手 (XuetangX-All-In-One-Helper)

[![版本](https://img.shields.io/badge/version-3.7-blue.svg)](https://github.com/jasonmumiao/XuetangX-Helper-Script)
[![许可证](https://img.shields.io/badge/License-GPL%20v3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0)
[![脚本管理器](https://img.shields.io/badge/Tampermonkey-必需-orange.svg)](https://www.tampermonkey.net/)

`学堂在线全能助手` 是一款专为[学堂在线](https://www.xuetangx.com/)设计的油猴脚本，旨在提升学习效率。它集成了**自动刷课**、**题库提取**和**自动答题**等核心功能，帮助您更轻松地完成课程学习和作业。

> **最新更新 (V3.7):** 优化了“自动刷课”功能，采用模拟用户点击的方式，解决了部分课程视频无法自动播放、调速及跳转的问题，兼容性更强。

## ✨ 主要功能

-   **🎬 智能刷课**：
    -   后台静音2倍速播放视频。
    -   自动跳转到下一个未完成的视频单元。
    -   模拟点击，兼容性强，有效防止视频暂停。
-   **📚 强大题库管理**：
    -   **一键提取**：自动翻页，将作业或考试中的题目、选项及正确答案完整提取。
    -   **本地存储**：提取的题目自动保存在浏览器本地，形成个人专属题库，无需联网。
    -   **格式化导出**：支持将提取的题库复制到剪贴板或导出为 `.json` 文件，方便备份和分享。
-   **✍️ 自动化答题**：
    -   **暴力答题模式**：自动选择第一个选项并提交，快速获取答案并存入题库。
    -   **题库答题模式**：根据已建立的本地题库，自动匹配并填写答案，实现高效作答。
-   **🕹️ 便捷的控制面板**：
    -   悬浮在页面右下角，操作直观方便。
    -   实时显示任务进度，如“提取中... 5/20”。
    -   提供“返回第一题”、“清空题库”等辅助工具。

## ⚡ 快速上手 (Quick Start)

对于大多数用户来说，核心流程分为“首次建库”和“后续使用”两个阶段。

### 阶段一：首次建库 (适用于可重复提交的作业)

这是最快建立本地题库的方法。

1.  打开一个**允许重复提交**的作业或测验。
2.  点击控制面板上的 **`自动答题并提取`** 按钮。
3.  脚本会自动“暴力”尝试（选择第一个选项并提交）每一道题，然后记录下正确答案。
4.  等待脚本运行到最后一题，您的个人本地题库就建立好了！

> **⚠️警告：** 此方法会消耗一次作业机会，并且第一次的得分会很低。请确保该作业允许重做或不计入最终成绩。如果作业只有一次机会，请勿使用此功能。

### 阶段二：后续使用 (高效完成作业)

当您的本地题库中有数据后：

1.  重新进入作业，或者打开一个新的、题目相似的作业。
2.  点击控制面板上的 **`按题库作答`** 按钮。
3.  脚本会自动在你的本地题库中查找当前页面的题目，并为你填上正确答案。

### 刷课指南

-   在课程的视频播放页面，直接点击 **`自动刷课`** 即可开始自动播放、倍速、静音并跳转。再次点击可停止。

## 🚀 安装指南

安装此脚本需要两个步骤：首先安装一个用户脚本管理器，然后安装本脚本。

### 1. 安装用户脚本管理器

您需要在浏览器上安装一个用户脚本管理器扩展。推荐使用 **Tampermonkey**。

-   [**Chrome**](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo)
-   [**Firefox**](https://addons.mozilla.org/en-US/firefox/addon/tampermonkey/)
-   [**Microsoft Edge**](https://microsoftedge.microsoft.com/addons/detail/tampermonkey/iikmkjmpaadaobahmlepeloendndfphd)
-   [**Safari**](https://apps.apple.com/app/apple-store/id1482490089)

### 2. 安装脚本

点击下面的链接，您安装的脚本管理器会自动弹出安装页面，点击“安装”即可。

-   **[点击此处从 GitHub 安装](https://github.com/jasonmumiao/XuetangX-Helper-Script/raw/main/%E5%AD%A6%E5%A0%82%E5%9C%A8%E7%BA%BF%E5%85%A8%E8%83%BD%E5%8A%A9%E6%89%8B%20-%20V3.7%20(%E8%87%AA%E5%8A%A8%E5%88%B7%E8%AF%BE%E4%BC%98%E5%8C%96)-3.7.user.js)**

## 📖 使用说明

安装成功后，在学堂在线的课程页面，右下角会出现一个控制面板。

### 功能按钮详解

1.  **自动刷课**
    -   **作用**：在课程学习页面点击，脚本会自动播放视频、设置为2倍速、静音，并在播放完成后自动跳转到下一单元。
    -   **状态**：按钮会变为红色的“停止刷课”，再次点击即可停止。
    -   **注意**：刷课时请勿执行其他自动化任务。

2.  **提取当前页**
    -   **作用**：只提取当前页面的题目和答案，并存入本地题库。适合只想保存个别题目时使用。

3.  **自动翻页提取**
    -   **作用**：从当前页开始，自动向后翻页，提取所有题目和答案，直到最后一页。这是建立题库的主要方式。
    -   **前提**：需要您已经完成作答，页面上显示了“正确答案”。

4.  **自动答题并提取**
    -   **作用**：一种“暴力”模式。它会自动选择每道题的第一个选项并提交，然后等待页面显示正确答案后进行提取。
    -   **适用场景**：适用于允许无限次尝试的作业，目的是快速获取答案并建立题库。

5.  **按题库作答**
    -   **作用**：脚本会读取当前页面的题干，在本地题库中寻找匹配的题目。如果找到，则自动填写正确答案。
    -   **前提**：您已经通过“提取”或“自动答题”功能建立了一个相对完善的本地题库。

6.  **返回第一题**
    -   **作用**：当您在作业或考试的中间页时，点击此按钮可以快速返回到第1题。

7.  **清空本地题库**
    -   **作用**：删除所有保存在浏览器中的题目数据。
    -   **警告**：这是一个危险操作，且不可恢复，请谨慎使用！

## ⚠️ 免责声明

-   本脚本仅为学习和技术研究目的而创建，旨在提高学习效率，而非用于任何形式的作弊或学术不端行为。
-   请合理使用本脚本，并自行承担因使用脚本可能带来的一切后果。开发者不对任何因使用本脚本而导致的问题负责，包括但不限于账号封禁、成绩无效等。
-   请务必遵守[学堂在线](https://www.xuetangx.com/)的用户协议和平台规则。

## 🤝 贡献

欢迎通过以下方式为本项目做出贡献：

-   **提交 Bug**：发现问题？请在 [Issues](https://github.com/jasonmumiao/XuetangX-Helper-Script/issues) 中提交详细报告。
-   **提出建议**：有好的想法？欢迎在 [Issues](https://github.com/jasonmumiao/XuetangX-Helper-Script/issues) 中分享。
-   **提交代码**：修复了 Bug 或实现了新功能？欢迎提交 Pull Request！

## 📜 许可证

本项目采用 [GNU General Public License v3.0](https://www.gnu.org/licenses/gpl-3.0) 开源许可。
